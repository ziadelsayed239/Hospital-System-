@using Shared.Enums;
@using Shared.DTO;
@model AppointmentViewModel;

<div id="main">
    <h1>Add New Patient</h1>
    <form method="POST" asp-action="AddAppointment">
        <input type="hidden" asp-for="PatientId" value="@ViewBag.patientId" />

        <div class="form-group">
            <label asp-for="DoctorId">Doctor</label>
            <select class="form-control" id="Gender" asp-for="DoctorId">
                <option value="0" selected>Select a Doctor</option>
                @foreach (var Doctor in ViewBag.Doctors)
                {
                    <option value="@Doctor.Id">Dr. @(Doctor.firstName + " " + Doctor.lastName)</option>
                }
            </select>
        </div>

        <div class="form-group">
            <label asp-for="Date">Date and Time</label>
            <input type="datetime-local" class="form-control" id="appointmentDateTime" asp-for="Date">
        </div>

        <div class="form-group">
            <label asp-for="DoctorId">Type</label>
            <select class="form-control" id="Gender" asp-for="DoctorId">
                @foreach (var type in Enum.GetValues(typeof(AppointmentType)))
                {
                    <option value="@type">@type.ToString()</option>
                }
            </select>
        </div>

        <div class="form-group">
            <a href="/Admin/ViewPatient?id=@ViewBag.patientId" class="btn btn-secondary">Go Back</a>
            <button type="submit" class="btn btn-primary">Submit</button>
        </div>
        <div asp-validation-summary="ModelOnly"></div>
    </form>
</div>